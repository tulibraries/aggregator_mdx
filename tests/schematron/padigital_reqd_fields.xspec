<?xml version="1.0" encoding="UTF-8"?>
<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
schematron="../../validations/padigital_reqd_fields.sch">

  <x:scenario label="RequiredElementsPattern">
    <x:scenario label="valid: dcterms:rights">
      <x:context href="../../fixtures/schematron/valid_dct_rights.xml"/>
      <x:expect-valid/>
    </x:scenario>

    <x:scenario label="valid: edm:rights">
      <x:context href="../../fixtures/schematron/valid_edm_rights.xml"/>
      <x:expect-valid/>
    </x:scenario>

    <x:scenario label="not valid">
      <x:scenario label="not valid: missing title">
        <x:context href="../../fixtures/schematron/invalid_missing_title.xml"/>
        <x:expect-assert id="Required1"/>
      </x:scenario>

      <x:scenario label="not valid: missing dctrights and edm:rights">
        <x:context href="../../fixtures/schematron/invalid_missing_rights.xml"/>
        <x:expect-assert id="Required2"/>
      </x:scenario>

      <x:scenario label="not valid: missing item url">
        <x:context href="../../fixtures/schematron/invalid_missing_item_url.xml"/>
        <x:expect-assert id="Required3"/>
      </x:scenario>

      <x:scenario label="not valid: missing dataProvider">
        <x:context href="../../fixtures/schematron/invalid_missing_dataprovider.xml"/>
        <x:expect-assert id="Required4"/>
      </x:scenario>

      <x:scenario label="not valid: missing multiple">
        <x:context href="../../fixtures/schematron/invalid_missing_multiple.xml"/>
        <x:expect-assert id="Required1"/>
        <x:expect-assert id="Required2"/>
        <x:expect-assert id="Required4"/>
      </x:scenario>
    </x:scenario>
  </x:scenario>

  <x:scenario label="TitleElementPattern">
    <x:scenario label="valid">
      <x:context href="../../fixtures/schematron/valid_title_pattern.xml"/>
      <x:expect-valid/>
    </x:scenario>

    <x:scenario label="not valid">
      <x:scenario label="not valid: empty title 1">
        <x:context href="../../fixtures/schematron/invalid_empty_title1.xml"/>
        <x:expect-assert id="Title1"/>
      </x:scenario>

      <x:scenario label="not valid: empty title 2">
        <x:context href="../../fixtures/schematron/invalid_empty_title2.xml"/>
        <x:expect-assert id="Title1"/>
      </x:scenario>
    </x:scenario>
  </x:scenario>

  <x:scenario label="ItemURLElementPattern">
    <x:scenario label="valid">
      <x:context href="../../fixtures/schematron/valid_item_url_pattern.xml"/>
      <x:expect-valid/>
    </x:scenario>

    <x:scenario label="not valid">
      <x:scenario label="not valid: empty isShownAt URL 1">
        <x:context href="../../fixtures/schematron/invalid_empty_isshownat1.xml"/>
        <x:expect-assert id="ItemURL1"/>
      </x:scenario>

      <x:scenario label="not valid: empty isShownAt URL 2">
        <x:context href="../../fixtures/schematron/invalid_empty_isshownat2.xml"/>
        <x:expect-assert id="ItemURL1"/>
      </x:scenario>
    </x:scenario>
  </x:scenario>

  <x:scenario label="EDMDataProviderElementPattern">
    <x:scenario label="valid">
      <x:context href="../../fixtures/schematron/valid_dataprovider_pattern.xml"/>
      <x:expect-valid/>
    </x:scenario>

    <x:scenario label="not valid">
      <x:scenario label="not valid: empty Data Provider 1">
        <x:context href="../../fixtures/schematron/invalid_empty_dataprovider1.xml"/>
        <x:expect-assert id="EDMDp1"/>
      </x:scenario>

      <x:scenario label="not valid: empty Data Provider 2">
        <x:context href="../../fixtures/schematron/invalid_empty_dataprovider2.xml"/>
        <x:expect-assert id="EDMDp1"/>
      </x:scenario>
    </x:scenario>
  </x:scenario>

  <x:scenario label="DCTRightsElementPattern">
    <x:scenario label="valid">
      <x:context href="../../fixtures/schematron/valid_rights_pattern.xml"/>
      <x:expect-valid/>
    </x:scenario>

    <x:scenario label="not valid">
      <x:scenario label="not valid: empty dct:rights 1">
        <x:context href="../../fixtures/schematron/invalid_empty_rights1.xml"/>
        <x:expect-assert id="DCTRights1"/>
      </x:scenario>

      <x:scenario label="not valid: empty dct:rights 2">
        <x:context href="../../fixtures/schematron/invalid_empty_rights2.xml"/>
        <x:expect-assert id="DCTRights1"/>
      </x:scenario>

    </x:scenario>
  </x:scenario>

  <x:scenario label="EDMRightsElementPattern">
    <x:scenario label="valid">
      <x:context href="../../fixtures/schematron/valid_edmrights_pattern.xml"/>
      <x:expect-valid/>
    </x:scenario>

    <x:scenario label="not valid">
      <x:scenario label="not valid: empty edm:rights 1">
        <x:context href="../../fixtures/schematron/invalid_empty_edmrights1.xml"/>
        <x:expect-assert id="EDMRights1"/>
      </x:scenario>

      <x:scenario label="not valid: empty edm:rights 2">
        <x:context href="../../fixtures/schematron/invalid_empty_edmrights2.xml"/>
        <x:expect-assert id="EDMRights1"/>
      </x:scenario>

    </x:scenario>
  </x:scenario>
</x:description>
