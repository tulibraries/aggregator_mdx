<?xml version="1.0" encoding="UTF-8"?>

 <x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:dcterms="http://purl.org/dc/terms/"
   xmlns:dpla="http://dp.la/about/map/"
   xmlns:padig="http://padigital.org/ns"
   xmlns:edm="http://www.europeana.eu/schemas/edm/"
   xmlns:oclcdc="http://worldcat.org/xmlschemas/oclcdc-1.0/"
   xmlns:oclcterms="http://purl.org/oclc/terms/"
   xmlns:oai="http://www.openarchives.org/OAI/2.0/"
   xmlns:oai_dc='http://www.openarchives.org/OAI/2.0/oai_dc/'
   xmlns:oclc="http://purl.org/oclc/terms/"
   xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/"
   xmlns:schema="http://schema.org"
   xmlns:svcs="http://rdfs.org/sioc/services"
   stylesheet="../../transforms/csv_generic_semic.xsl">

<!-- mediaMaster -->
   <x:scenario label="value in mediaMaster maps to padig:mediaMaster">
     <x:context>
       <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
         <record airflow-record-id="1">
           <mediaMaster>https://archives.philamuseum.org/jgj/JGJ_B001_F002_002/001;https://archives.philamuseum.org/jgj/JGJ_B001_F002_002/002</mediaMaster>
         </record>
       </collection>
     </x:context>
     <x:expect label="delimited mediaMaster parses and maps">
       <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
         <padig:mediaMaster>https://archives.philamuseum.org/jgj/JGJ_B001_F002_002/001</padig:mediaMaster>
         <padig:mediaMaster>https://archives.philamuseum.org/jgj/JGJ_B001_F002_002/002</padig:mediaMaster>         
         <edm:provider>PA Digital</edm:provider>
       </oai_dc:dc>
     </x:expect>
   </x:scenario>

<!-- Title (map and delimit) -->
   <x:scenario label="Title becomes space-normalized dcterms:title">
    <x:context href="../../fixtures/csv_generic_semic.xml"/>
     <x:expect label="Title becomes dcterms:title"
       test="oai_dc:dc/dcterms:title = 'Reports of the Inspectors of Mines of the anthracite coal regions of Pennsylvania for the year ..'" />
   </x:scenario>

<!-- Alternate title (map and delimit) -->
   <x:scenario label="alternative titles map and delimit">
    <x:scenario label="Title not first maps to dcterms:alternative">
      <x:context>
        <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
          <record airflow-record-id="1">
            <Title>First title</Title>
            <Title>Alt title</Title>
          </record>
        </collection>
      </x:context>
      <x:expect label="title not first maps">
        <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <dcterms:title>First title</dcterms:title>
          <dcterms:alternative>Alt title</dcterms:alternative>
          <edm:provider>PA Digital</edm:provider>
        </oai_dc:dc>
      </x:expect>
      </x:scenario>
      <x:scenario label="Alternative_Title maps to dcterms:alternative and delimits on semicolon">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Title>Title</Title>
              <Alternative_Title>Alt title1;Alt title2</Alternative_Title>
            </record>
          </collection>
        </x:context>
        <x:expect label="Alternative_Title maps and delimits">
          <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <dcterms:title>Title</dcterms:title>
            <dcterms:alternative>Alt title1</dcterms:alternative>
            <dcterms:alternative>Alt title2</dcterms:alternative>
            <edm:provider>PA Digital</edm:provider>
          </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Type and Format (map/parse, normalize, and delimit) -->
<x:scenario label="Type values are matched, remediated, and delimited for known strings">
    <x:scenario label="Delimiting, remediating, and parsing">
      <x:context>
        <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
          <record airflow-record-id="1">
            <Type>apples;oranges;images;texts;photographs;</Type>
          </record>
        </collection>
      </x:context>
      <x:expect label="type and format are mapped and delimited">
        <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <dcterms:format>apples</dcterms:format>
          <dcterms:format>oranges</dcterms:format>
          <dcterms:type>Image</dcterms:type>
          <dcterms:type>Text</dcterms:type>
          <dcterms:format>photographs</dcterms:format>
          <edm:provider>PA Digital</edm:provider>
        </oai_dc:dc>
      </x:expect>
    </x:scenario>

    <x:scenario label="Text Type Remediation">
      <x:scenario label="Text Type Remediation: Starts with lowercase text">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>textual kittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Text'" test="oai_dc:dc/dcterms:type = 'Text'" />
      </x:scenario>
      <x:scenario label="Text Type Remediation: Starts with mixed case text">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>TEXTresource</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Text'" test="oai_dc:dc/dcterms:type = 'Text'" />
      </x:scenario>
      <x:scenario label="Text Type Remediation: text exact lowercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>text</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Text'" test="oai_dc:dc/dcterms:type = 'Text'" />
      </x:scenario>
      <x:scenario label="Text Type Remediation: text exact uppercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>TEXT</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Text'" test="oai_dc:dc/dcterms:type = 'Text'" />
      </x:scenario>
      <x:scenario label="Text Type Remediation: ends with text becomes format">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>hello-text</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:format is original value" test="oai_dc:dc/dcterms:format = 'hello-text'" />
        <x:expect label="Output record dcterms:type does not exist" test="not(oai_dc:dc/dcterms:type)" />
      </x:scenario>
    </x:scenario>
    <x:scenario label="Image Type Remediation">
      <x:scenario label="Image Type Remediation: Starts with lowercase image">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>image of kittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Image'" test="oai_dc:dc/dcterms:type = 'Image'" />
      </x:scenario>
      <x:scenario label="Image Type Remediation: Starts with mixed case Image">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>ImAgEresource</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Image'" test="oai_dc:dc/dcterms:type = 'Image'" />
      </x:scenario>
      <x:scenario label="Image Image Remediation: image exact lowercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>image</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Image'" test="oai_dc:dc/dcterms:type = 'Image'" />
      </x:scenario>
      <x:scenario label="Image Type Remediation: image exact uppercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
              <Type>IMAGE</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Image'" test="oai_dc:dc/dcterms:type = 'Image'" />
      </x:scenario>
      <x:scenario label="Image Type Remediation: ends with image becomes format">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>hello-image</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:format is original value" test="oai_dc:dc/dcterms:format = 'hello-image'" />
        <x:expect label="Output record dcterms:type does not exist" test="not(oai_dc:dc/dcterms:type)" />
      </x:scenario>
    </x:scenario>
    <x:scenario label="Moving Image Type Remediation">
      <x:scenario label="Moving Image Type Remediation: Starts with lowercase, no spaces movingimage">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>movingimagekittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Moving Image'" test="oai_dc:dc/dcterms:type = 'Moving Image'" />
      </x:scenario>
      <x:scenario label="Moving Image Type Remediation: Starts with lowercase, single-spaced moving image">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>moving imagekittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Moving Image'" test="oai_dc:dc/dcterms:type = 'Moving Image'" />
      </x:scenario>
      <x:scenario label="Moving Image Type Remediation: Starts with mixed case moving image">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>MOVING ImAgEresource</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Moving Image'" test="oai_dc:dc/dcterms:type = 'Moving Image'" />
      </x:scenario>
      <x:scenario label="Moving Image Remediation: Moving Image exact lowercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>moving image</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Moving Image'" test="oai_dc:dc/dcterms:type = 'Moving Image'" />
      </x:scenario>
      <x:scenario label="Moving Image Type Remediation: Moving Image exact uppercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>MOVING IMAGE</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Moving Image'" test="oai_dc:dc/dcterms:type = 'Moving Image'" />
      </x:scenario>
      <x:scenario label="Moving Image Type Remediation: ends with Moving Image becomes format">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>hello-moving-image</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:format is original value" test="oai_dc:dc/dcterms:format = 'hello-moving-image'" />
        <x:expect label="Output record dcterms:type does not exist" test="not(oai_dc:dc/dcterms:type)" />
      </x:scenario>
    </x:scenario>
    <x:scenario label="Sound Type Remediation">
      <x:scenario label="Sound Type Remediation: Starts with lowercase sound">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>sound of kittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Sound'" test="oai_dc:dc/dcterms:type = 'Sound'" />
      </x:scenario>
      <x:scenario label="Sound Type Remediation: Starts with mixed case sound">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>SoUnDresource</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Sound'" test="oai_dc:dc/dcterms:type = 'Sound'" />
      </x:scenario>
      <x:scenario label="Sound Type Remediation: Sound exact lowercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>sound</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Sound'" test="oai_dc:dc/dcterms:type = 'Sound'" />
      </x:scenario>
      <x:scenario label="Sound Type Remediation: Sound exact uppercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>SOUND</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Sound'" test="oai_dc:dc/dcterms:type = 'Sound'" />
      </x:scenario>
      <x:scenario label="Sound Type Remediation: ends with sound becomes format">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>hello-sound</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:format is original value" test="oai_dc:dc/dcterms:format = 'hello-sound'" />
        <x:expect label="Output record dcterms:type does not exist" test="not(oai_dc:dc/dcterms:type)" />
      </x:scenario>
    </x:scenario>
    <x:scenario label="Physical Object Type Remediation">
      <x:scenario label="Physical Object Type Remediation: Starts with lowercase, no spaces physicalobject">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>physicalobjectkittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Physical Object'" test="oai_dc:dc/dcterms:type = 'Physical Object'" />
      </x:scenario>
      <x:scenario label="Physical Object Type Remediation: Starts with lowercase, single-spaced Physical Object">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>physical object kittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Physical Object'" test="oai_dc:dc/dcterms:type = 'Physical Object'" />
      </x:scenario>
      <x:scenario label="Physical Object Type Remediation: Starts with mixed case Physical Object">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>PHYSical Objectresource</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Physical Object'" test="oai_dc:dc/dcterms:type = 'Physical Object'" />
      </x:scenario>
      <x:scenario label="Physical Object Remediation: Physical Object exact lowercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>physical object</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Physical Object'" test="oai_dc:dc/dcterms:type = 'Physical Object'" />
      </x:scenario>
      <x:scenario label="Physical Object Type Remediation: Physical Object exact uppercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>PHYSICAL OBJECT</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Physical Object'" test="oai_dc:dc/dcterms:type = 'Physical Object'" />
      </x:scenario>
      <x:scenario label="Physical Object Type Remediation: ends with Physical Object becomes format">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>hello-physical-object</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:format is original value" test="oai_dc:dc/dcterms:format = 'hello-physical-object'" />
        <x:expect label="Output record dcterms:type does not exist" test="not(oai_dc:dc/dcterms:type)" />
      </x:scenario>
    </x:scenario>
    <x:scenario label="Interactive Resource Type Remediation">
      <x:scenario label="Interactive Resource Type Remediation: Starts with lowercase, no spaces interactiveresource">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>interactiveresourcepuppies</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Interactive Resource'" test="oai_dc:dc/dcterms:type = 'Interactive Resource'" />
      </x:scenario>
      <x:scenario label="Interactive Resource Type Remediation: Starts with lowercase, single-spaced Interactive Resource">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>interactive resource kittens</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Interactive Resource'" test="oai_dc:dc/dcterms:type = 'Interactive Resource'" />
      </x:scenario>
      <x:scenario label="Interactive Resource Type Remediation: Starts with mixed case Interactive Resource">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>InterActive Resource resources</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Interactive Resource'" test="oai_dc:dc/dcterms:type = 'Interactive Resource'" />
      </x:scenario>
      <x:scenario label="Interactive Resource Remediation: Interactive Resource exact lowercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>interactive resource</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Interactive Resource'" test="oai_dc:dc/dcterms:type = 'Interactive Resource'" />
      </x:scenario>
      <x:scenario label="Interactive Resource Type Remediation: Interactive Resource exact uppercase">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>INTERACTIVE RESOURCE</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:type is 'Interactive Resource'" test="oai_dc:dc/dcterms:type = 'Interactive Resource'" />
      </x:scenario>
      <x:scenario label="Interactive Resource Type Remediation: ends with Interactive Resource becomes format">
        <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
                <Type>hello-interactive-resource</Type>
            </record>
          </collection>
        </x:context>
        <x:expect label="Output record dcterms:format is original value" test="oai_dc:dc/dcterms:format = 'hello-interactive-resource'" />
        <x:expect label="Output record dcterms:type does not exist" test="not(oai_dc:dc/dcterms:type)" />
      </x:scenario>
    </x:scenario>
  </x:scenario>

<!-- Creator (map and delimit) -->
  <x:scenario label="Creator delimits, normalizes, and maps">
   <x:scenario label="Creator becomes space-normalized dcterms:creator">
    <x:context href="../../fixtures/csv_generic_semic.xml"/>
     <x:expect label="Creator becomes dcterms:creator)"
       test="oai_dc:dc/dcterms:creator = 'Pennsylvania. Inspectors of Mines'" />
   </x:scenario>
   <x:scenario label="Creator becomes space-normalized dcterms:creator and delimits">
     <x:context>
          <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
            <record airflow-record-id="1">
             <Creator>Smith, John;Smith, Karen</Creator>
            </record>
          </collection>
     </x:context>
     <x:expect label="Creator maps and delimits">
       <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
         <dcterms:creator>Smith, John</dcterms:creator>
         <dcterms:creator>Smith, Karen</dcterms:creator>
         <edm:provider>PA Digital</edm:provider>
       </oai_dc:dc>
     </x:expect>
   </x:scenario>
 </x:scenario>

<!-- File format (map and delimit) -->
   <x:scenario label="Format delimits, normalizes, and maps to schema:fileFormat">
     <x:scenario label="Format becomes space-normalized schema:fileFormat">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Format becomes schema:fileFormat"
         test="oai_dc:dc/schema:fileFormat = 'image/jpeg'" />
     </x:scenario>
     <x:scenario label="Format becomes space-normalized schema:fileFormat and delimits">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Format>Thing1;Thing2</Format>
           </record>
         </collection>
       </x:context>
       <x:expect label="Format maps and delimits">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <schema:fileFormat>Thing1</schema:fileFormat>
           <schema:fileFormat>Thing2</schema:fileFormat>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Contributor (map and delimit) -->
   <x:scenario label="Contributor delimits, normalizes, and maps">
     <x:scenario label="Contributor becomes space-normalized dcterms:contributor">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Contributor becomes dcterms:contributor)"
         test="oai_dc:dc/dcterms:contributor = 'Test contributor'" />
     </x:scenario>
     <x:scenario label="Contributor becomes space-normalized dcterms:contributor and delimits">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Contributor>Smith, John;Smith, Karen</Contributor>
           </record>
         </collection>
       </x:context>
       <x:expect label="Contributor maps and delimits">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:contributor>Smith, John</dcterms:contributor>
           <dcterms:contributor>Smith, Karen</dcterms:contributor>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Source (map and delimit) -->
   <x:scenario label="Source delimits, normalizes, and maps">
     <x:scenario label="Source becomes space-normalized dcterms:source">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Source becomes dcterms:source)"
         test="oai_dc:dc/dcterms:source = 'Test source'" />
     </x:scenario>
     <x:scenario label="Source becomes space-normalized dcterms:source and delimits">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Source>Smith, John;Smith, Karen</Source>
           </record>
         </collection>
       </x:context>
       <x:expect label="Source maps and delimits">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:source>Smith, John</dcterms:source>
           <dcterms:source>Smith, Karen</dcterms:source>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Publisher (map and delimit) -->
     <x:scenario label="Publisher becomes space-normalized dcterms:publisher">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Publisher becomes dcterms:publisher)"
         test="oai_dc:dc/dcterms:publisher = '[Harrisburg] : The Bureau'" />
     </x:scenario>

<!-- Description (map) -->
     <x:scenario label="Description becomes space-normalized dcterms:description">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Description becomes dcterms:description"
         test="oai_dc:dc/dcterms:description = 'Report year ends Dec. 31,Continues: Pennsylvania. Inspectors of Mines. Reports of the Inspectors of Coal Mines of the anthricite coals regions of Pennsylvania for the year ..,Continued by: Pennsylvania. Inspectors of Mines. Reports of the Inspectors of Mines of the anthracite and bituminous coal regions of Pennsylvania'" />
     </x:scenario>

<!-- Spatial (map and delimit) -->
   <x:scenario label="Spatial maps to dcterms:spatial and delimits on semicolon">
     <x:context>
       <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
         <record airflow-record-id="1">
           <Place>Place1;Place2</Place>
         </record>
       </collection>
     </x:context>
     <x:expect label="Spatial is mapped and delimited">
       <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
         <dcterms:spatial>Place1</dcterms:spatial>
         <dcterms:spatial>Place2</dcterms:spatial>
         <edm:provider>PA Digital</edm:provider>
       </oai_dc:dc>
     </x:expect>
   </x:scenario>

<!-- Temporal (map and delimit) -->
   <x:scenario label="Temporal delimits, normalizes, and maps">
     <x:scenario label="Temporal becomes space-normalized dcterms:temporal">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Temporal>Time1;Time2</Temporal>
           </record>
         </collection>
       </x:context>
       <x:expect label="Temporal becomes dcterms:temporal)">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:temporal>Time1</dcterms:temporal>
           <dcterms:temporal>Time2</dcterms:temporal>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Extent (map) -->
   <x:scenario label="dcterms:extent becomes space-normalized dcterms:extent">
     <x:context href="../../fixtures/csv_generic_semic.xml"/>
     <x:expect label="dcterms:extent becomes dcterms:extent)"
       test="oai_dc:dc/dcterms:extent = '1 photograph, b&amp;w; 8 x 10 in.'" />
   </x:scenario>

<!-- Date (map and delimit) -->
   <x:scenario label="date fields delimit, normalize, and map">
     <x:scenario label="date in Creation_Date field">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Creation_Date becomes dcterms:date)"
         test="oai_dc:dc/dcterms:date = '1885'" />
     </x:scenario>
     <x:scenario label="Creation_Date becomes space-normalized dcterms:date and delimits">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
               <Creation_Date>1978-07-25;1978-07-26</Creation_Date>
           </record>
         </collection>
       </x:context>
       <x:expect label="Creation_Date maps and delimits">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:date>1978-07-25</dcterms:date>
           <dcterms:date>1978-07-26</dcterms:date>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
     <x:scenario label="date in Date field with semicolon delimiter">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Date>1978-07-25;1978-07-26</Date>
           </record>
         </collection>
       </x:context>
       <x:expect label="date in Date field maps to dcterms:date and delimits">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:date>1978-07-25</dcterms:date>
           <dcterms:date>1978-07-26</dcterms:date>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Subject (map and delimit) -->
   <x:scenario label="Subject maps to dcterms:subject and delimits on semicolon">
     <x:context>
       <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
         <record airflow-record-id="1">
           <Subject>Subject1;Subject2</Subject>
         </record>
       </collection>
     </x:context>
     <x:expect label="Subject is mapped and delimited">
       <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
         <dcterms:subject>Subject1</dcterms:subject>
         <dcterms:subject>Subject2</dcterms:subject>
         <edm:provider>PA Digital</edm:provider>
       </oai_dc:dc>
     </x:expect>
   </x:scenario>

<!-- Language (map and delimit) -->
     <x:scenario label="Language becomes space-normalized dcterms:language">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Language>eng;yid;french</Language>
           </record>
         </collection>
       </x:context>
        <x:expect label="Language normalizes, maps, and delimits">
          <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <dcterms:language>English</dcterms:language>
            <dcterms:language>Yiddish</dcterms:language>
            <dcterms:language>french</dcterms:language>
            <edm:provider>PA Digital</edm:provider>
          </oai_dc:dc>
       </x:expect>
     </x:scenario>

<!-- Relation (map and delimit) -->
   <x:scenario label="Relation delimits, normalizes, and maps">
     <x:scenario label="Relation becomes space-normalized dcterms:relation">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Relation becomes dcterms:relation)"
         test='oai_dc:dc/dcterms:relation = "Test relation"' />
     </x:scenario>
     <x:scenario label="Relation becomes space-normalized dcterms:relation and delimits">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Relation>Thing 1;Thing 2</Relation>
           </record>
         </collection>
       </x:context>
       <x:expect label="Relation maps and delimits">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:relation>Thing 1</dcterms:relation>
           <dcterms:relation>Thing 2</dcterms:relation>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- isPartOf (map and delimit) -->
   <x:scenario label="Collection_Name delimits, normalizes, and maps">
     <x:scenario label="Collection_Name becomes space-normalized dcterms:isPartOf">
       <x:context href="../../fixtures/csv_generic_semic.xml"/>
       <x:expect label="Collection_Name becomes dcterms:isPartOf)"
         test="oai_dc:dc/dcterms:isPartOf = 'Pennsylvania Mining Reports Collection'" />
     </x:scenario>
     <x:scenario label="Collection_Name becomes space-normalized dcterms:isPartOf and delimits">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <Collection_Name>Thing 1;Thing 2</Collection_Name>
           </record>
         </collection>
       </x:context>
       <x:expect label="Collection_Name maps and delimits">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:isPartOf>Thing 1</dcterms:isPartOf>
           <dcterms:isPartOf>Thing 2</dcterms:isPartOf>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Rights and Rights URI (map/parse and delimit) -->
   <x:scenario label="rights processing">
     <x:context href="../../fixtures/csv_generic_semic.xml"/>
     <x:expect label="rights URI is transformed to edm:rights" test="oai_dc:dc/edm:rights = 'http://rightsstatements.org/vocab/NoC-US/1.0/'"/>
     <x:expect label="textual rights statment is transformed to dcterms:rights" test="oai_dc:dc/dcterms:rights = 'This is a textual rights statement.'"/>
     <x:expect label="rights uri does not map to rights" test="not(oai_dc:dc/dcterms:rights = 'http://rightsstatements.org/vocab/NoC-US/1.0/')" />
     <x:expect label="textual rights does not map to edm:rights" test="not(oai_dc:dc/edm:rights = 'This is a textual rights statement.')" />
   </x:scenario>

<!-- Identifier (map) -->
   <x:scenario label="identifier fields map to dcterms:identifier">  
    <x:scenario label="identifier in Item_No field">
        <x:context href="../../fixtures/csv_generic_semic.xml"/>
        <x:expect label="Item_No maps to dcterms:identifier" test="oai_dc:dc/dcterms:identifier = 'conditions_prospects_norwich_mine'"/>
      </x:scenario>
     <x:scenario label="Identifier in ID field">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <ID>conditions_prospects_norwich_mine</ID>
           </record>
         </collection>
       </x:context>
       <x:expect label="Value in ID field maps to dcterms:identifier">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <dcterms:identifier>conditions_prospects_norwich_mine</dcterms:identifier>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Data Provider (generate and map) -->
   <x:scenario label="Data_Provider processing">
     <x:context href="../../fixtures/csv_generic_semic.xml"/>
     <x:expect label="Data_Provider maps to edm:dataProvider" test="oai_dc:dc/edm:dataProvider = 'Lehigh University'"/>
   </x:scenario>

<!-- isShownAt (map) -->
   <x:scenario label="isShownAt processing">
     <x:scenario label="URL in Identifier field">
     <x:context href="../../fixtures/csv_generic_semic.xml"/>
     <x:expect label="Value in Identifier field maps to edm:isShownAt" test="oai_dc:dc/edm:isShownAt = 'https://archive.org/details/reportsofinspect1885penn'"/>
     </x:scenario>
     <x:scenario label="URL in URL field">
       <x:context>
         <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
           <record airflow-record-id="1">
             <URL>https://archive.org/details/reportsofinspect1885penn</URL>
           </record>
         </collection>
       </x:context>
       <x:expect label="Value in URL field maps to edm:isShownAt">
         <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
           <edm:isShownAt>https://archive.org/details/reportsofinspect1885penn</edm:isShownAt>
           <edm:provider>PA Digital</edm:provider>
         </oai_dc:dc>
       </x:expect>
     </x:scenario>
   </x:scenario>

<!-- Preview (generate and map) -->
   <x:scenario label="preview processing">
     <x:scenario label="preview URL in Thumbnail field">
      <x:context href="../../fixtures/csv_generic_semic.xml"/>
      <x:expect label="Value in thumbnail field maps to edm:preview" test="oai_dc:dc/edm:preview = 'https://archive.org/services/img/reportsofinspect1885penn'"/>
    </x:scenario>
   <x:scenario label="preview URL in Preview field">
     <x:context>
       <collection dag-id="funcake_generic_csv" dag-timestamp="2019-11-27_16-54-14">
         <record airflow-record-id="1">
           <Preview>https://archive.org/services/img/reportsofinspect1885penn</Preview>
         </record>
       </collection>
     </x:context>
     <x:expect label="Value in Preview field maps to edm:preview">
       <oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:oai_qdc="http://worldcat.org/xmlschemas/qdc-1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
         <edm:preview>https://archive.org/services/img/reportsofinspect1885penn</edm:preview>
         <edm:provider>PA Digital</edm:provider>
       </oai_dc:dc>
     </x:expect>
   </x:scenario>
   </x:scenario>
 </x:description>
